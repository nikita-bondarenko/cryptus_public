# Cryptus Mock Backend

–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Mock Service Worker (MSW) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ —Å –º–æ–∫–∞–º–∏
```bash
pnpm run dev:mock
```

–ò–ª–∏ –æ–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫ (–º–æ–∫–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ development):
```bash
pnpm run dev
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∫–æ–≤

```
src/mocks/
‚îú‚îÄ‚îÄ browser.ts      # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
‚îú‚îÄ‚îÄ server.ts       # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Node.js/—Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ handlers.ts     # –í—Å–µ API –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îú‚îÄ‚îÄ index.ts        # –≠–∫—Å–ø–æ—Ä—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ types.ts        # TypeScript —Ç–∏–ø—ã
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è
–ú–æ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è –≤ development —Ä–µ–∂–∏–º–µ. Service worker –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API.

### –†—É—á–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
```tsx
import { MSWProvider } from '@/components/MSWProvider';

function App() {
  return (
    <MSWProvider>
      {/* –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ */}
    </MSWProvider>
  );
}
```

## üì° –î–æ—Å—Ç—É–ø–Ω—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### Health Check
- `GET /api/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è API

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `GET /api/user/profile` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/auth/telegram` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram

### –û–±–º–µ–Ω –≤–∞–ª—é—Ç
- `GET /api/exchange/rates` - –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç
- `POST /api/exchange/create` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –æ–±–º–µ–Ω
- `GET /api/exchange/:id` - –î–µ—Ç–∞–ª–∏ –æ–±–º–µ–Ω–∞

### –í–∞–ª—é—Ç—ã
- `GET /api/currencies/bank` - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –≤–∞–ª—é—Ç—ã
- `GET /api/currencies/cash` - –ù–∞–ª–∏—á–Ω—ã–µ –≤–∞–ª—é—Ç—ã
- `GET /api/currencies/coin` - –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã

### FAQ
- `GET /api/faq` - –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞
- `POST /api/support/call` - –ó–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫
- `POST /api/support/message` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

## üî® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –º–æ–∫–æ–≤

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `src/mocks/handlers.ts`:

```typescript
http.get('/api/user/profile', () => {
  return HttpResponse.json({
    user_data: {
      id: 12345,
      username: 'your_username',
      // ... –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ
    }
  });
});
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
```typescript
// –í src/mocks/handlers.ts
http.get('/api/new-endpoint', () => {
  return HttpResponse.json({ message: 'Hello from new endpoint!' });
}),
```

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –º–æ–∫–æ–≤
–û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ API –∏ —É–≤–∏–¥–∏—Ç–µ:
- –ó–∞–ø—Ä–æ—Å—ã –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è MSW
- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –º–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ª–æ–≥ MSW

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
–ú–æ–∫–∏ –≤–∫–ª—é—á–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:
- `GET /api/error/500` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `GET /api/error/404` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

## üìã –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ —Å –º–æ–∫–∞–º–∏
pnpm run dev:mock

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MSW (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
pnpm run msw:init

# –û–±—ã—á–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
pnpm run dev
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

1. **–ú–æ–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç?**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤ MSW
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `NODE_ENV=development`

2. **Service Worker –Ω–µ –Ω–∞–π–¥–µ–Ω?**
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ `pnpm run msw:init`

3. **–ó–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –º–∏–º–æ –º–æ–∫–æ–≤?**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URLs –≤ handlers.ts
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–∞—Å–∫–∞–º

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –º–æ–∫–∞–º–∏ –∏ —Ä–µ–∞–ª—å–Ω—ã–º API

```typescript
// –í –≤–∞—à–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const API_BASE = process.env.NEXT_PUBLIC_USE_MOCKS 
  ? 'http://localhost:3000' 
  : 'https://real-api.example.com';
```

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –º–æ–∫-–±—ç–∫–µ–Ω–¥–æ–º. üéâ
